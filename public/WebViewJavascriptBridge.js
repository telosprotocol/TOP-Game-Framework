!function(){if(!window.GC||!1!==window.GC.isInApp){var e=4;if(window.WebViewJavascriptBridge){var n=window.WebViewJavascriptBridge.version||0;if(!(e>n))return;delete window.WebViewJavascriptBridge,console.log("[Bridge] overide old bridge!!")}var r,t,i,o,a=document,d=function(){var n=[],i=[],o={},a="yy",d="__QUEUE_MESSAGE__/",c={},l=1,s=!1,u=!1,f=!1,g=[],p=!1;function v(e,t){if(t){var i="cb_"+l+++"_"+(new Date).getTime();c[i]=t,e.callbackId=i}n.push(e),r&&m()}function m(){r.src=a+"://"+d}function w(){if(t){var e=JSON.stringify(n);n=[],"[]"!==e&&(t.src=a+"://return/_fetchQueue/"+encodeURIComponent(e))}else p=!0}function E(e){Promise.resolve(!0).then(function(){var n,r;try{n=JSON.parse(e)}catch(n){return void(console.error||console.log)("[Bridge] jsonParseError:",e,n)}if(n.responseId){if(!(r=c[n.responseId]))return;r(n.responseData),delete c[n.responseId]}else{if(n.callbackId){var t=n.callbackId;r=function(e){v({responseId:t,responseData:e})}}var i,a=h._messageHandler;n.handlerName&&(i=o[n.handlerName]);try{i?i(n.data,r):a(n,r)}catch(e){"undefined"!=typeof console&&console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.",n,e)}}})}var h={getReady:function(e){g?g.push(e):e&&e()},__readyCallback:function(){if(g){for(var e=0;e<g.length;e++){var r=g[e];try{r&&r()}catch(e){}}g=null,n.length>0&&m(),p&&w()}},version:e,init:function(e){if(h._messageHandler)throw new Error("WebViewJavascriptBridge.init called twice");h._messageHandler=e;var n=i;i=null;for(var r=0;r<n.length;r++)E(n[r])},send:function(e,n){v({data:e},n)},registerHandler:function(e,n){o[e]=n},callHandler:function(e,n,r){f&&console.log("[Bridge] Js2App",e,n);v({handlerName:e,data:n},r)},isCalledByApp:function(){return s},openDebug:function(e,n){f=!!e,u=!!n},_fetchQueue:w,_handleMessageFromNative:function(e){u&&console.log("[Bridge] App2Js",e);s=!0,i&&i.push(e);E(e)}};try{var B=localStorage;if(B){const e=B.getItem("__WVBRIDGE_DEBUG_");e&&h.openDebug(e.indexOf("send")>-1,e.indexOf("push")>-1)}}catch(e){}return h}();window.WebViewJavascriptBridge=d,!1===c()&&(console.log("[Bridge] InitError docEl ="+!!a.documentElement),o=function(){console.log("[Bridge] InitedByReady docEl ="+!!a.documentElement),c()},a.addEventListener("DOMContentLoaded",function(){o(),a.removeEventListener("DOMContentLoaded",arguments.callee,!1)},!1),function e(){null!=i&&clearTimeout(i),window.WebViewJavascriptBridge||(i=setTimeout(function(){console.log("[BridgeInit] InitedByTimer docEl ="+!!a.documentElement),!1===c()&&e()},500))}())}function c(){if(!a.documentElement)return!1;if(r)return!0;!function(e){(r=e.createElement("iframe")).style.display="none",e.documentElement.appendChild(r)}(a),function(e){(t=e.createElement("iframe")).style.display="none",e.documentElement.appendChild(t)}(a);var e=a.createEvent("Events");return e.initEvent("WebViewJavascriptBridgeReady"),e.bridge=d,a.dispatchEvent(e),console.log("[Bridge] Inited"),d.__readyCallback(),!0}}();